plugins {
    id 'java-library'        
}
apply plugin: "maven-publish"

sourceCompatibility = 1.8

def aGroupId = "com.github.msx80.omicron"
def aArtifactId = "omicron-desktop"
def aVersion = "0.0.2"

dependencies {
    api project(':omicron-engine') 
    api "com.github.msx80:omicron-basics:0.0.2"
    api group: 'com.badlogicgames.gdx', name: 'gdx-backend-lwjgl3', version: '1.9.14'
	// i don't know why but entering this twice is the only way to make it pick up both the regular jar and the natives
	api "com.badlogicgames.gdx:gdx-platform:1.9.14:natives-desktop"
	api "com.badlogicgames.gdx:gdx-platform:1.9.14"
}

 publishing {
        publications {
            maven(MavenPublication) {
                groupId = aGroupId
                artifactId = aArtifactId
                version = aVersion

                from components.java
			}
        }
  }

// automatically publish on maven local when building
build.finalizedBy publishToMavenLocal

tasks.publishToMavenLocal.doLast(){
        println ''
		println "Desktop published to maven local as: $aGroupId:$aArtifactId:$aVersion" 
		println ''
    }
